import React from 'react';
<<<<<<< HEAD
import { NextSeo } from '@/components/NextSeo';
import { useRouter } from 'next/router';
// Loader2 removed as TalentProfileSkeleton will be used
import TalentProfileSkeleton from '@/components/talent/TalentProfileSkeleton';
import NotFound from '@/components/NotFound';
import useSWR from 'swr';
import { Avatar, AvatarFallback } from '@/components/ui/avatar';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import type { TalentProfile } from '@/types/talent';

// API returns `{ profile: TalentProfile }`; swr will store just the profile
type TalentProfileResponse = { profile: TalentProfile | null };

// fetcher-like function for handling API responses
const handleApiResponse = async (res: Response) => {
  if (!res.ok) {
    const error = new Error('An error occurred while fetching the data.');
    // Read response body once and attempt to parse JSON
    const raw = await res.text();
    try {
      (error as any).info = JSON.parse(raw);
    } catch {
      (error as any).info = { message: raw };
    }
    (error as any).status = res.status;
    throw error;
  }
  return res.json();
};

const TalentPage: React.FC = () => {
  const router = useRouter();
  const { id } = router.query as { id?: string };

  // Next.js router typing in this project doesn't include `isFallback`.
  // Cast to any to access the property during static builds.
  if ((router as any).isFallback) {
    return (
      <div className="flex flex-col items-center justify-center py-20 text-center">
        <h2 className="text-2xl font-semibold mb-2">Error</h2>
        <p>Failed to load talent profile.</p>
        {err.status && <p>Status: {err.status}</p>}
        <p>Message: {err.info?.error || err.info?.message || err.message}</p>
      </div>
    );
  }

  // API call was successful (no error thrown) but no profile found
  // This also implies !isLoading at this point.
  if (!data) {
    return <NotFound />;
  }

  // If we reach here, talent data is available
=======
import Head from 'next/head';
>>>>>>> origin/automation-error-fixes
  return (
    <>
      <Head><title>talent/[id] - Zion App</title><meta name="description" content="talent/[id] page" /></Head><div className="container mx-auto px-4 py-8"><h1 className="text-3xl font-bold mb-6">talent/[id]</h1><p className="text-lg mb-4">This page is under construction.</p><div className="mt-4"><a href="/" className="text-blue-600 hover:underline">;
            ‚Üê Back to Home</a></div></div></>;
  );
