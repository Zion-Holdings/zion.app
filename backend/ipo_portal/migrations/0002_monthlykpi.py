# Generated by Django 5.2.1 on 2025-05-31 21:33

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('ipo_portal', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='MonthlyKPI',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateField(help_text='First day of the month for which KPIs are recorded.')),
                ('mrr', models.DecimalField(decimal_places=2, help_text='Monthly Recurring Revenue', max_digits=12)),
                ('gmv', models.DecimalField(decimal_places=2, help_text='Gross Marketplace Volume', max_digits=12)),
                ('active_users_monthly', models.IntegerField(help_text='Monthly Active Users')),
                ('churn_rate', models.DecimalField(decimal_places=2, help_text='Monthly churn rate (e.g., 2.5 for 2.5%)', max_digits=5)),
                ('cac', models.DecimalField(decimal_places=2, help_text='Customer Acquisition Cost', max_digits=10)),
                ('ltv', models.DecimalField(decimal_places=2, help_text='Customer Lifetime Value', max_digits=10)),
                ('retention_cohort_data', models.JSONField(blank=True, default=dict, help_text='Cohort retention data')),
                ('global_user_breakdown', models.JSONField(blank=True, default=dict, help_text='User breakdown by region/segment')),
            ],
            options={
                'verbose_name': 'Monthly KPI',
                'verbose_name_plural': 'Monthly KPIs',
                'ordering': ['-month'],
                'unique_together': {('month',)},
            },
        ),
    ]
