var U=Object.defineProperty;var L=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var A=(e,t,s)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,x=(e,t)=>{for(var s in t||(t={}))_.call(t,s)&&A(e,s,t[s]);if(L)for(var s of L(t))G.call(t,s)&&A(e,s,t[s]);return e};import{r as d}from"./chunk-BVaMFXZF.js";const $=(e,t,s,a)=>{var n,f,h,N;const i=[s,x({code:t},a||{})];if((f=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&f.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);m(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(N=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&N.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},P={},b=(e,t,s,a)=>{m(s)&&P[s]||(m(s)&&(P[s]=new Date),$(e,t,s,a))},k=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},S=(e,t,s)=>{e.loadNamespaces(t,k(e,s))},j=(e,t,s,a)=>{if(m(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return S(e,s,a);s.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,k(e,a))},q=(e,t,s={})=>!t.languages||!t.languages.length?(b(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),m=e=>typeof e=="string",B=e=>typeof e=="object"&&e!==null,W=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,J={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},K=e=>J[e],X=e=>e.replace(W,K);let Y={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:X};const D=()=>Y;let Q;const Z=()=>Q,V=d.createContext();class ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const te=(e,t)=>{const s=d.useRef();return d.useEffect(()=>{s.current=e},[e,t]),s.current},H=(e,t,s,a)=>e.getFixedT(t,s,a),se=(e,t,s,a)=>d.useCallback(H(e,t,s,a),[e,t,s,a]),oe=(e,t={})=>{var R,v,z,F;const{i18n:s}=t,{i18n:a,defaultNS:i}=d.useContext(V)||{},n=s||a||Z();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new ee),!n){b(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const r=(u,l)=>m(l)?l:B(l)&&m(l.defaultValue)?l.defaultValue:Array.isArray(u)?u[u.length-1]:u,c=[r,{},!1];return c.t=r,c.i18n={},c.ready=!1,c}(R=n.options.react)!=null&&R.wait&&b(n,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f=x(x(x({},D()),n.options.react),t),{useSuspense:h,keyPrefix:N}=f;let o=i||((v=n.options)==null?void 0:v.defaultNS);o=m(o)?[o]:o||["translation"],(F=(z=n.reportNamespaces).addUsedNamespaces)==null||F.call(z,o);const g=(n.isInitialized||n.initializedStoreOnce)&&o.every(r=>q(r,n,f)),M=se(n,t.lng||null,f.nsMode==="fallback"?o:o[0],N),C=()=>M,E=()=>H(n,t.lng||null,f.nsMode==="fallback"?o:o[0],N),[I,y]=d.useState(C);let w=o.join();t.lng&&(w=`${t.lng}${w}`);const O=te(w),p=d.useRef(!0);d.useEffect(()=>{const{bindI18n:r,bindI18nStore:c}=f;p.current=!0,!g&&!h&&(t.lng?j(n,t.lng,o,()=>{p.current&&y(E)}):S(n,o,()=>{p.current&&y(E)})),g&&O&&O!==w&&p.current&&y(E);const u=()=>{p.current&&y(E)};return r&&(n==null||n.on(r,u)),c&&(n==null||n.store.on(c,u)),()=>{p.current=!1,n&&r&&(r==null||r.split(" ").forEach(l=>n.off(l,u))),c&&n&&c.split(" ").forEach(l=>n.store.off(l,u))}},[n,w]),d.useEffect(()=>{p.current&&g&&y(C)},[n,N,g]);const T=[I,n,g];if(T.t=I,T.i18n=n,T.ready=g,g||!g&&!h)return T;throw new Promise(r=>{t.lng?j(n,t.lng,o,()=>r()):S(n,o,()=>r())})};export{oe as u};
