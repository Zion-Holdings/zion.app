#!/usr/bin/env sh
set -e

echo "✅ Commit completed successfully!"

# Log commit information
echo "📝 Logging commit details..."
COMMIT_HASH=$(git rev-parse HEAD)
COMMIT_MESSAGE=$(git log -1 --pretty=%B)
COMMIT_DATE=$(date '+%Y-%m-%d %H:%M:%S')

echo "Commit Hash: $COMMIT_HASH"
echo "Commit Message: $COMMIT_MESSAGE"
echo "Commit Date: $COMMIT_DATE"

# Automation system integration removed (script not present)

# Check if this is a deployment commit
if echo "$COMMIT_MESSAGE" | grep -i -E "(deploy|release|production)" > /dev/null; then
    echo "🚀 Deployment commit detected!"
    echo "   Consider running: npm run deploy"
fi

# Show next steps
echo "💡 Next steps:"
echo "   - git push (to push changes)"
echo "   - npm run automation:status (to check automation)"
echo "   - npm run test:all (to run full tests)"

# Trigger background sync (non-blocking)
(command -v npm >/dev/null 2>&1 && npm run --silent git:sync >/dev/null 2>&1 &) || true 