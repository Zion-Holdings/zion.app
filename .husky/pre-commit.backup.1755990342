<<<<<<< HEAD
#!/bin/bash

echo "ðŸ” Running pre-commit checks..."

# Run page structure validation
echo "  ðŸ“‹ Validating page structure..."
npm run build:validate

if [ $? -ne 0 ]; then
  echo "âŒ Page structure validation failed!"
  echo "   Please fix the issues before committing."
  echo "   Run 'npm run build:validate' for details."
  exit 1
fi

# Run quick build health check
echo "  ðŸ¥ Running build health check..."
npm run build:health-check

if [ $? -ne 0 ]; then
  echo "âŒ Build health check failed!"
  echo "   Please fix the build issues before committing."
  echo "   Run 'npm run build:health-check' for details."
  exit 1
fi

# Run linting on staged files only
echo "  ðŸ§¹ Running lint-staged..."
npx lint-staged

if [ $? -ne 0 ]; then
  echo "âŒ Lint-staged failed!"
  echo "   Please fix the issues in staged files."
  exit 1
fi

echo "âœ… All pre-commit checks passed"
echo "   ðŸš€ Ready to commit!"
=======
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ” Running pre-commit checks..."

# Run React component validation
echo "ðŸ“‹ Validating React components..."
if node automation/react-component-validator.cjs; then
    echo "âœ… React component validation passed"
else
    echo "âŒ React component validation failed. Please fix issues before committing."
    echo "ðŸ’¡ Run 'node automation/react-component-validator.cjs' for detailed report."
    exit 1
fi

# Run build preflight check
echo "ðŸš€ Running build preflight check..."
if node automation/build-preflight-checker.cjs; then
    echo "âœ… Build preflight check passed"
else
    echo "âŒ Build preflight check failed. Please fix issues before committing."
    echo "ðŸ’¡ Run 'node automation/build-preflight-checker.cjs' for detailed report."
    exit 1
fi

echo "ðŸŽ‰ All pre-commit checks passed!"
>>>>>>> origin/cursor/build-nextjs-app-and-deploy-39fe
