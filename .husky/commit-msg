echo "üöÄ Enhanced Commit Message Validation..."

# Validate commit message format
COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

# Ensure not empty
if [ -z "$commit_msg" ]; then
  echo "‚ùå Error: Commit message cannot be empty"
  exit 1
fi

# Enforce Conventional Commits with commitlint if installed
if [ -x "./node_modules/.bin/commitlint" ]; then
  if npx --no-install commitlint --edit "$1"; then
    echo "‚úÖ Commit message validation passed"
    exit 0
  else
    echo "‚ùå Commit message does not follow Conventional Commits"
    exit 1
  fi
else
  echo "‚ÑπÔ∏è  commitlint not installed locally; skipping strict check"
fi 
