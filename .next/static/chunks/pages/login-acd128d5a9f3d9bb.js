(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{844:(e,r)=>{"use strict";Object.prototype.toString},5841:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var n=t(7876),s=t(4232),a=t(9099);function o(e){let{children:r,variant:t="default",className:s=""}=e,a="".concat("p-4 rounded-md border"," ").concat({default:"bg-blue-50 border-blue-200 text-blue-800",destructive:"bg-red-50 border-red-200 text-red-800",success:"bg-green-50 border-green-200 text-green-800"}[t]," ").concat(s);return(0,n.jsx)("div",{className:a,children:r})}function i(e){let{children:r,className:t=""}=e;return(0,n.jsx)("div",{className:"text-sm ".concat(t),children:r})}var l=t(2064);t(844);let c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d=" 	\n\r=".split("");(()=>{let e=Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<d.length;r+=1)e[d[r].charCodeAt(0)]=-2;for(let r=0;r<c.length;r+=1)e[c[r].charCodeAt(0)]=r})();var u=t(5364),m=t(5364);function p(){let e=m.env.NEXT_PUBLIC_SUPABASE_URL,r=m.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return"true"===u.env.NEXT_PUBLIC_USE_AUTH_FALLBACK||!!(e&&r)}function f(){let[e,r]=(0,s.useState)(!1),t=(0,a.useRouter)(),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),{signIn:h,loading:x,user:b}=(0,l.A)(),[y,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!1),_=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(x)return _.current&&clearTimeout(_.current),_.current=setTimeout(()=>{x&&(j(!0),p||v(!0))},5e3),()=>{_.current&&clearTimeout(_.current)};v(!1),j(!1),_.current&&clearTimeout(_.current)},[x]),(0,s.useEffect)(()=>{if(b&&!x){let{next:e,...r}=t.query,n="string"==typeof e?decodeURIComponent(e):"/dashboard";t.replace({pathname:n,query:r})}},[b,x,t]);let N=async(e,r)=>{try{if(!p)throw Error("Authentication service is not configured. Please contact support.");let t=await h(e,r);if(t.error)throw Error(t.error)}catch(e){return{error:e.message||"An unexpected error occurred"}}},E=async e=>{if(!c.trim()||!u.trim()){e.preventDefault(),g("Both email and password are required.");return}e.preventDefault(),r(!0),g("");try{await N(c,u)}catch(e){g(e.message||"An unexpected error occurred")}finally{r(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:E,children:[(0,n.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,n.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:c,onChange:e=>d(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:u,onChange:e=>m(e.target.value)})]})]}),f&&(0,n.jsx)(o,{variant:"destructive",children:(0,n.jsx)(i,{children:f})}),y&&(0,n.jsx)(o,{children:(0,n.jsx)(i,{children:"Authentication is taking longer than expected. This may indicate configuration issues. Please check your environment variables and try again."})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",disabled:e||x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Signing in...":"Sign in"})})]})]})})}},7984:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(5841)}])},9099:(e,r,t)=>{e.exports=t(8253)}},e=>{e.O(0,[636,593,792],()=>e(e.s=7984)),_N_E=e.O()}]);