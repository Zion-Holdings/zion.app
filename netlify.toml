[build]
  command = "npm ci && npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[[plugins]]
  package = "netlify-plugin-cloudinary"

# Scheduled functions
[[scheduled.functions]]
  name = "cron-weekly-dao"
  cron = "0 6 * * 1" # Mondays at 06:00 UTC

[[scheduled.functions]]
  name = "cron-weekly-learn"
  cron = "0 6 * * 1" # Mondays at 06:00 UTC

[[scheduled.functions]]
  name = "cron-daily-rankings"
  cron = "0 3 * * *" # daily at 03:00 UTC 