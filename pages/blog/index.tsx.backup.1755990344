<<<<<<< HEAD
import BlogPage, { BlogProps } from '../../src/pages/Blog';
import { BLOG_POSTS } from '@/data/blog-posts';
import type { GetServerSideProps } from 'next';
import * as Sentry from '@sentry/nextjs';

export const getServerSideProps: GetServerSideProps<BlogProps> = async () => {
  try {
    // Example: Add a breadcrumb if you want to trace this specific SSR execution
    // Sentry.addBreadcrumb({
    //   category: 'ssr',
    //   message: 'getServerSideProps for BlogPage called',
    //   level: 'info',
    // });


    return { props: { posts: BLOG_POSTS } };
  } catch (error) {
    Sentry.captureException(error);
    throw error; // Re-throw the error so Next.js can handle it
  }
=======
import type { NextPage, GetStaticProps } from 'next';
import Head from 'next/head';
import Link from 'next/link';
import fs from 'fs';
import path from 'path';

type BlogIndexProps = { slugs: string[] };

export const getStaticProps: GetStaticProps<BlogIndexProps> = async () => {
  const blogDir = path.join(process.cwd(), 'pages', 'blog');
  let slugs: string[] = [];
  try {
    const files = fs.readdirSync(blogDir);
    slugs = files
      .filter((f) => f.endsWith('.tsx') && f !== 'index.tsx')
      .map((f) => f.replace(/\.tsx$/, ''));
  } catch {
    slugs = [];
  }
  return { props: { slugs } };
};

const Index: NextPage<BlogIndexProps> = ({ slugs }) => {
  return (
    <div>
      <Head>
        <title>Blog - Zion Tech Solutions</title>
        <meta name="description" content="Zion blog" />
      </Head>
      <main>
        <h1>Blog</h1>
        {slugs.length === 0 ? (
          <p>No posts yet. Check back soon.</p>
        ) : (
          <ul>
            {slugs.map((slug) => (
              <li key={slug}>
                <Link href={`/blog/${slug}`}>{slug.replace(/-/g, ' ')}</Link>
              </li>
            ))}
          </ul>
        )}
        <p><Link href="/">Back to Home</Link></p>
      </main>
    </div>
  );
>>>>>>> origin/cursor/automate-zion-s-content-creation-with-gpt-4-5aba
};

export default BlogPage;
