import Link from 'next/link';

const REPO = 'Zion-Holdings/zion.app';

export default function Home() {
  return (
    <div className="min-h-screen bg-gray-950 text-gray-100">
      <div className="max-w-6xl mx-auto px-6 py-10">
        <h1 className="text-4xl font-extrabold tracking-tight">Zion AI Marketplace</h1>
        <p className="mt-2 text-gray-400">Autonomous, cloud‑native automations that run continuously—no machines, no humans.</p>

        <div className="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
          <HeroCard title="Developers API" href="/developers" desc="Generate API keys, manage webhooks, view docs." />
          <HeroCard title="Autonomous Reports" href="/reports" desc="Live trends, audits, and link checks generated by cloud workflows." />
        </div>

        <h2 className="mt-10 text-2xl font-bold">Autonomous Cloud Automations</h2>
        <div className="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
          <AutoItem title="Trends Aggregator" desc="HN + GitHub trending every 30 min" linkHref="/reports" />
          <AutoItem title="Content Sync" desc="Top starred repos snapshot" linkHref="/reports" />
          <AutoItem title="Link Checker" desc="Broken link report for SITE_URL" linkHref={`https://github.com/${REPO}/actions/workflows/link-check.yml`} external />
          <AutoItem title="Lighthouse Audit" desc="Performance/SEO audits" linkHref={`https://github.com/${REPO}/actions/workflows/lighthouse.yml`} external />
          <AutoItem title="NPM Audit" desc="Security vulnerability alerts" linkHref={`https://github.com/${REPO}/actions/workflows/npm-audit.yml`} external />
          <AutoItem title="Auto Dependency Bump" desc="Daily dependency updates" linkHref={`https://github.com/${REPO}/actions/workflows/auto-dependency-bump.yml`} external />
          <AutoItem title="Auto Merge" desc="Merges safe automation PRs" linkHref={`https://github.com/${REPO}/actions/workflows/auto-merge.yml`} external />
          <AutoItem title="Auto Release" desc="Tags automated releases" linkHref={`https://github.com/${REPO}/actions/workflows/auto-release.yml`} external />
        </div>

        <div className="mt-8 text-sm text-gray-400">Sync cadence: every 30 minutes for trends & link checks; daily for dependency bumps; continuous for automation PRs.</div>
      </div>
    </div>
  );
}

function HeroCard({ title, desc, href }: { title: string; desc: string; href: string }) {
  return (
    <Link href={href}>
      <a className="block bg-gray-900 border border-gray-800 rounded p-6 hover:border-indigo-600 transition">
        <div className="text-xl font-semibold">{title}</div>
        <div className="text-gray-400 mt-1">{desc}</div>
      </a>
    </Link>
  );
}

function AutoItem({ title, desc, linkHref, external }: { title: string; desc: string; linkHref: string; external?: boolean }) {
  const Tag = external ? 'a' : Link as any;
  const props: any = external ? { href: linkHref, target: '_blank', rel: 'noreferrer' } : { href: linkHref };
  return (
    <Tag {...props}>
      <div className="bg-gray-900 border border-gray-800 rounded p-4 hover:border-indigo-600 transition">
        <div className="font-semibold">{title}</div>
        <div className="text-gray-400 text-sm">{desc}</div>
      </div>
    </Tag>
  );
}