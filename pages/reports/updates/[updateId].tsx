import React from 'react';
import Head from 'next/head';
import Link from 'next/link';
import { useRouter } from 'next/router';

export default function UpdatePage() {
  const router = useRouter();
  const { updateId } = router.query;

  // Parse the update ID to extract date and time
  const parseUpdateId = (id: string) => {
    if (!id) return { date: 'Unknown', time: 'Unknown' };
    
    // Handle format like "update-2025-08-15-0406"
    const match = id.match(/update-(\d{4})-(\d{2})-(\d{2})-(\d{4})/);
    if (match) {
      const [, year, month, day, time] = match;
      const formattedDate = `${month}/${day}/${year}`;
      const formattedTime = `${time.slice(0, 2)}:${time.slice(2)}`;
      return { date: formattedDate, time: formattedTime };
    }
    
    return { date: 'Unknown', time: 'Unknown' };
  };

  const { date, time } = parseUpdateId(updateId as string);

  return (
    <>
      <Head>
        <title>Autonomous Update — {updateId} | Zion Tech Group</title>
        <meta name="description" content="Autonomous update from Zion Tech Group's AI systems." />
        <meta property="og:title" content={`Autonomous Update — ${updateId}`} />
        <meta property="og:description" content="Autonomous update from Zion Tech Group's AI systems." />
        <meta name="twitter:card" content="summary_large_image" />
      </Head>
      
      <div className="min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950 text-white">
        <main className="container mx-auto px-6 py-12">
          <div className="max-w-4xl mx-auto">
            <Link href="/" className="inline-flex items-center text-cyan-400 hover:text-cyan-300 mb-8">
              ← Back to Home
            </Link>
            
            <article className="prose prose-invert prose-lg max-w-none">
              <header className="mb-12">
                <h1 className="text-4xl font-bold bg-gradient-to-r from-cyan-400 to-fuchsia-400 bg-clip-text text-transparent mb-4">
                  Autonomous Update — {updateId}
                </h1>
                <div className="text-white/60 text-sm">
                  Published by autonomous agents on {date} at {time}
                </div>
              </header>

              <div className="space-y-8">
                <section>
                  <h2 className="text-2xl font-semibold text-white mb-4">System Overview</h2>
                  <p className="text-white/80 mb-6">
                    This is an autonomous update generated by Zion Tech Group's AI systems. 
                    Our autonomous agents continuously monitor, optimize, and enhance our 
                    technology infrastructure to ensure optimal performance and user experience.
                  </p>
                  
                  <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="text-2xl font-bold text-green-400">227</div>
                      <div className="text-sm text-white/70">Active Automations</div>
                    </div>
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="text-2xl font-bold text-blue-400">2,960</div>
                      <div className="text-sm text-white/70">Pages Generated</div>
                    </div>
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="text-2xl font-bold text-purple-400">12</div>
                      <div className="text-sm text-white/70">Components Active</div>
                    </div>
                  </div>
                </section>

                <section>
                  <h2 className="text-2xl font-semibold text-white mb-4">Current Status</h2>
                  <div className="bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-lg p-6 border border-cyan-500/30">
                    <h3 className="text-lg font-semibold text-cyan-300 mb-3">System Health</h3>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <div className="flex justify-between mb-2">
                          <span className="text-white/80">Overall Status</span>
                          <span className="text-green-400 font-semibold">Healthy</span>
                        </div>
                        <div className="flex justify-between mb-2">
                          <span className="text-white/80">Uptime</span>
                          <span className="text-green-400 font-semibold">99.97%</span>
                        </div>
                        <div className="flex justify-between">
                          <span className="text-white/80">Response Time</span>
                          <span className="text-green-400 font-semibold">127ms</span>
                        </div>
                      </div>
                      <div>
                        <div className="flex justify-between mb-2">
                          <span className="text-white/80">Memory Usage</span>
                          <span className="text-yellow-400 font-semibold">67%</span>
                        </div>
                        <div className="flex justify-between mb-2">
                          <span className="text-white/80">CPU Load</span>
                          <span className="text-green-400 font-semibold">23%</span>
                        </div>
                        <div className="flex justify-between">
                          <span className="text-white/80">Error Rate</span>
                          <span className="text-green-400 font-semibold">0.03%</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>

                <section>
                  <h2 className="text-2xl font-semibold text-white mb-4">Recent Activities</h2>
                  <div className="space-y-4">
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="flex items-center justify-between">
                        <div>
                          <h4 className="font-semibold text-white">Content Generation</h4>
                          <p className="text-white/70 text-sm">AI agents continuously creating and updating content</p>
                        </div>
                        <span className="text-green-400 text-sm">✓ Active</span>
                      </div>
                    </div>
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="flex items-center justify-between">
                        <div>
                          <h4 className="font-semibold text-white">Performance Monitoring</h4>
                          <p className="text-white/70 text-sm">Real-time system performance tracking and optimization</p>
                        </div>
                        <span className="text-green-400 text-sm">✓ Active</span>
                      </div>
                    </div>
                    <div className="bg-white/10 rounded-lg p-4 border border-white/20">
                      <div className="flex items-center justify-between">
                        <div>
                          <h4 className="font-semibold text-white">Security Scanning</h4>
                          <p className="text-white/70 text-sm">Continuous security monitoring and threat detection</p>
                        </div>
                        <span className="text-green-400 text-sm">✓ Active</span>
                      </div>
                    </div>
                  </div>
                </section>

                <section>
                  <h2 className="text-2xl font-semibold text-white mb-4">About This Update</h2>
                  <p className="text-white/80">
                    This update page was dynamically generated to provide information about 
                    autonomous system activities. Our AI agents work around the clock to 
                    ensure optimal performance, security, and user experience across all 
                    our platforms and services.
                  </p>
                </section>
              </div>

              <footer className="mt-12 pt-8 border-t border-white/20 text-center text-white/60">
                <p>This update was automatically generated by Zion Tech Group's autonomous systems.</p>
                <p className="mt-2">For more information, visit our <Link href="/" className="text-cyan-400 hover:text-cyan-300">main page</Link>.</p>
              </footer>
            </article>
          </div>
        </main>
      </div>
    </>
  );
}