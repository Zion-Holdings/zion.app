
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zion Tech Nexus - Offline Mode</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet" />
  <meta name="theme-color" content="#000000" />
  <style>
    body {
      font-family: 'Orbitron', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #f8f8f8;
      background-color: #121212;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    h1 {
      background: linear-gradient(90deg, #f97316, #facc15);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }
    .card {
      background-color: #1e1e1e;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border-left: 4px solid #f97316;
    }
    .warning {
      border-left: 4px solid #facc15;
    }
    .steps {
      background-color: #000000;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 2rem;
    }
    code {
      font-family: monospace;
      background-color: #2d3748;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9rem;
    }
    ul {
      padding-left: 1.5rem;
    }
    li {
      margin-bottom: 0.75rem;
    }
    .error-box {
      background-color: #2d2d2d; 
      padding: 1rem;
      border-radius: 4px;
      margin-top: 1rem;
      border-left: 4px solid #e11d48;
      overflow-x: auto;
    }
    .command {
      background-color: #2d3748;
      padding: 0.75rem;
      border-radius: 4px;
      margin: 1rem 0;
      white-space: pre-wrap;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #374151;
      margin-bottom: 1rem;
    }
    .tab {
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    .tab.active {
      border-bottom: 2px solid #f97316;
      color: #f97316;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .status-box {
      background-color: #10B981;
      color: white;
      padding: 1rem;
      border-radius: 4px;
      margin-top: 1rem;
      text-align: center;
    }
    .status-box.offline {
      background-color: #facc15;
    }
    .network-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 6px;
      background-color: #facc15;
    }
  </style>
</head>
<body>
  <h1>Zion Tech Nexus - Offline Development</h1>
  
  <div class="status-box offline">
    <span class="network-indicator"></span>
    <strong>OFFLINE MODE</strong> - Running with minimal functionality
  </div>
  
  <div class="card">
    <h2>üíª Offline Development Mode</h2>
    <p>You're currently running in offline placeholder mode. This is a minimal server that doesn't require npm dependencies.</p>
    <div id="online-check" class="status-box offline">
      Checking network status...
    </div>
  </div>
  
  <div class="card warning">
    <h2>‚ö†Ô∏è TypeScript and Dependency Errors</h2>
    <p>The errors you're seeing are expected in offline mode because the required dependencies aren't available:</p>
    <div class="error-box">
      <code>Cannot find module 'react' or its corresponding type declarations.</code>
      <br>
      <code>Cannot find module 'react-router-dom' or its corresponding type declarations.</code>
      <br>
      <code>vite: not found</code>
    </div>
    <p>We've created temporary type declarations in <code>src/types/offline-shims.d.ts</code> to help with development, but these are only placeholders.</p>
  </div>
  
  <div class="tabs">
    <div class="tab active" onclick="showTab('online')">Online Solution</div>
    <div class="tab" onclick="showTab('offline')">Offline Workarounds</div>
    <div class="tab" onclick="showTab('proxy')">Proxy Settings</div>
  </div>
  
  <div id="online" class="tab-content active">
    <div class="steps">
      <h2>üåê When Internet is Available</h2>
      <p>The proper solution is to install the dependencies using npm:</p>
      <div class="command">chmod +x setup.sh
./setup.sh npm</div>
      <p>After installing dependencies, start the development server:</p>
      <div class="command">npm run dev</div>
    </div>
  </div>
  
  <div id="offline" class="tab-content">
    <div class="steps">
      <h2>üîå Offline Development Options</h2>
      <ol>
        <li><strong>Use a pre-downloaded node_modules:</strong> Copy a node_modules directory from another machine with the same dependencies</li>
        <li><strong>Create a local npm mirror:</strong> On a machine with internet, use <a href="https://verdaccio.org/" style="color: #f97316;">Verdaccio</a> to create a local registry</li>
        <li><strong>Use offline editing:</strong> Edit code files without building until internet is available</li>
      </ol>
    </div>
  </div>
  
  <div id="proxy" class="tab-content">
    <div class="steps">
      <h2>üîí Behind a Corporate Proxy?</h2>
      <p>If you're behind a corporate proxy, configure npm:</p>
      <div class="command">npm config set proxy http://your-proxy:port
npm config set https-proxy http://your-proxy:port
npm config set strict-ssl false  # Only if needed</div>
      <p>Then try running setup again:</p>
      <div class="command">./setup.sh npm</div>
    </div>
  </div>
  
  <script>
    function showTab(tabId) {
      // Hide all tab contents
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Deactivate all tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected tab content
      document.getElementById(tabId).classList.add('active');
      
      // Activate selected tab
      document.querySelectorAll('.tab').forEach(tab => {
        if (tab.textContent.toLowerCase().includes(tabId.toLowerCase())) {
          tab.classList.add('active');
        }
      });
    }

    // Check if we're online periodically
    function checkOnlineStatus() {
      fetch('/online-check')
        .then(response => response.json())
        .then(data => {
          const statusBox = document.getElementById('online-check');
          if (data.online) {
            statusBox.textContent = "Internet connection detected! You can now install dependencies.";
            statusBox.classList.remove('offline');
          } else {
            statusBox.innerHTML = "<span class='network-indicator'></span> " + data.message;
          }
        })
        .catch(() => {
          const statusBox = document.getElementById('online-check');
          statusBox.innerHTML = "<span class='network-indicator'></span> No internet connection detected";
          statusBox.classList.add('offline');
        });
    }

    // Check immediately and then every 30 seconds
    checkOnlineStatus();
    setInterval(checkOnlineStatus, 30000);
  </script>
</body>
</html>
