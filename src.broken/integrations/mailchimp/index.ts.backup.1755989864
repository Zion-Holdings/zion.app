import { MailchimpService } from './MailchimpService';

const apiKey =
<<<<<<< HEAD
  process.env.NEXT_PUBLIC_MAILCHIMP_API_KEY ||
  process.env.MAILCHIMP_API_KEY; // Fallback, but be cautious if MAILCHIMP_API_KEY is a secret and this runs client-side

const listId =
  process.env.NEXT_PUBLIC_MAILCHIMP_LIST_ID ||
  process.env.MAILCHIMP_LIST_ID; // Fallback
=======
  import.meta.env.VITE_MAILCHIMP_API_KEY ||
  (import.meta.env as any).NEXT_PUBLIC_MAILCHIMP_API_KEY ||
  process.env.MAILCHIMP_API_KEY;

const listId =
  import.meta.env.VITE_MAILCHIMP_LIST_ID ||
  (import.meta.env as any).NEXT_PUBLIC_MAILCHIMP_LIST_ID ||
  process.env.MAILCHIMP_LIST_ID;
>>>>>>> origin/5lqy80-codex/fix-npm-ci-errors-and-missing-dependencies

export const mailchimpService =
  apiKey && listId ? new MailchimpService(apiKey, listId) : undefined;

export type { MailchimpMember } from './MailchimpService';
