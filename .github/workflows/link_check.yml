name: Link Check

on:
  schedule:
    - cron: '0 */6 * * *' # every 6 hours
  workflow_dispatch: {}

permissions:
  contents: read

jobs:
  linkinator:
    runs-on: ubuntu-latest
    steps:
      - name: Check links
        run: npx --yes linkinator https://ziontechgroup.netlify.app --recurse --skip "mailto:|tel:|^#" --verbosity error --links --format json > link-check.json || true
      - name: Upload report
        uses: actions/upload-artifact@v4
        with:
          name: link-check
          path: link-check.json